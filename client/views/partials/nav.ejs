<header class="fixed top-0 left-0 w-full z-[1000] glass-nav transition-all duration-300">
    <div class="max-w-7xl mx-auto px-6 h-20 flex items-center justify-between">
        <!-- Logo -->
        <a href="/" class="flex items-center gap-2 group">
            <div class="text-primary transform group-hover:rotate-12 transition-transform duration-300">
                <svg class="size-9" fill="none" viewbox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
                    <path d="M4 4H17.3334V17.3334H30.6666V30.6666H44V44H4V4Z" fill="currentColor"></path>
                </svg>
            </div>
            <h1 class="text-3xl font-black tracking-tight text-slate-900 dark:text-white">ODDHAY</h1>
        </a>

        <!-- Desktop Nav -->
        <nav class="hidden lg:flex items-center gap-10">
            <a href="/" class="text-sm font-bold opacity-70 hover:opacity-100 hover:text-primary transition-all">হোম</a>
            <a href="/#features"
                class="text-sm font-bold opacity-70 hover:opacity-100 hover:text-primary transition-all">সেবাসমূহ</a>
            <a href="/courses"
                class="text-sm font-bold opacity-70 hover:opacity-100 hover:text-primary transition-all">কোর্সসমূহ</a>
            <a href="/about"
                class="text-sm font-bold opacity-70 hover:opacity-100 hover:text-primary transition-all">আমাদের
                সম্পর্কে</a>
            <a href="/#contact"
                class="text-sm font-bold opacity-70 hover:opacity-100 hover:text-primary transition-all">যোগাযোগ</a>
        </nav>

        <!-- Right Actions -->
        <div class="flex items-center gap-4">
            <button
                class="p-2.5 rounded-xl bg-slate-50 dark:bg-slate-800 border border-slate-100 dark:border-slate-700 hover:bg-primary/5 transition-colors"
                onclick="document.documentElement.classList.toggle('dark')">
                <span class="material-symbols-outlined text-[22px] block dark:hidden text-slate-600">dark_mode</span>
                <span class="material-symbols-outlined text-[22px] hidden dark:block text-amber-400">light_mode</span>
            </button>

            <div class="hidden md:flex items-center gap-2">
                <% if (locals.user) { %>
                    <a href="/dashboard" class="btn-primary !py-2.5 !px-6 !text-xs">ড্যাশবোর্ড</a>
                    <a href="/logout"
                        class="btn-secondary !py-2.5 !px-4 !text-xs !bg-red-500/5 !text-red-500 hover:!bg-red-500 hover:!text-white">লগআউট</a>
                    <% } else { %>
                        <a href="/login" class="btn-secondary !py-2.5 !px-6 !text-xs">লগইন</a>
                        <a href="/register" class="btn-primary !py-2.5 !px-8 !text-xs">নিবন্ধন</a>
                        <% } %>
            </div>

            <!-- Hamburger -->
            <button class="lg:hidden flex flex-col gap-1.5 p-2 group" onclick="toggleSidebar(true)">
                <span
                    class="w-8 h-1 bg-slate-900 dark:bg-white rounded-full transition-all group-hover:w-6 ml-auto"></span>
                <span class="w-8 h-1 bg-primary rounded-full transition-all"></span>
                <span
                    class="w-8 h-1 bg-slate-900 dark:bg-white rounded-full transition-all group-hover:w-6 ml-auto"></span>
            </button>
        </div>
    </div>
</header>

<!-- Sidebar Overlay -->
<div id="sidebar-overlay"
    class="fixed inset-0 bg-slate-900/60 backdrop-blur-sm z-[2000] hidden opacity-0 transition-opacity duration-300"
    onclick="toggleSidebar(false)"></div>

<aside id="mobile-sidebar"
    class="fixed top-0 right-0 w-[85%] max-w-sm h-full bg-white dark:bg-slate-900 z-[2001] translate-x-full shadow-2xl transition-transform duration-500 p-10 flex flex-col">
    <div class="flex items-center justify-between mb-16">
        <h2 class="text-2xl font-black text-primary">মেনু</h2>
        <button
            class="size-12 rounded-2xl bg-slate-50 dark:bg-slate-800 flex items-center justify-center border border-slate-100 dark:border-slate-700"
            onclick="toggleSidebar(false)">
            <span class="material-symbols-outlined">close</span>
        </button>
    </div>

    <nav class="flex flex-col gap-6">
        <a href="/" class="h2-section !text-2xl hover:text-primary transition-colors"
            onclick="toggleSidebar(false)">হোম</a>
        <a href="/#features" class="h2-section !text-2xl hover:text-primary transition-colors"
            onclick="toggleSidebar(false)">সেবাসমূহ</a>
        <a href="/courses" class="h2-section !text-2xl hover:text-primary transition-colors"
            onclick="toggleSidebar(false)">কোর্সসমূহ</a>
        <a href="/about" class="h2-section !text-2xl hover:text-primary transition-colors"
            onclick="toggleSidebar(false)">আমাদের সম্পর্কে</a>
        <a href="/#contact" class="h2-section !text-2xl hover:text-primary transition-colors"
            onclick="toggleSidebar(false)">যোগাযোগ</a>
    </nav>

    <div class="mt-auto flex flex-col gap-4">
        <% if (locals.user) { %>
            <a href="/dashboard" class="btn-primary w-full !h-14">ড্যাশবোর্ড</a>
            <a href="/logout" class="btn-secondary w-full !h-14 !bg-red-500/5 !text-red-500">লগআউট</a>
            <% } else { %>
                <a href="/login" class="btn-secondary w-full !h-14 !bg-slate-100 dark:!bg-slate-800">লগইন করুন</a>
                <a href="/register" class="btn-primary w-full !h-14">নিবন্ধন করুন</a>
                <% } %>
    </div>
</aside>

<script>
    function toggleSidebar(open) {
        const sidebar = document.getElementById('mobile-sidebar');
        const overlay = document.getElementById('sidebar-overlay');
        if (open) {
            overlay.classList.remove('hidden');
            setTimeout(() => {
                overlay.classList.remove('opacity-0');
                sidebar.classList.remove('translate-x-full');
            }, 10);
            document.body.style.overflow = 'hidden';
        } else {
            overlay.classList.add('opacity-0');
            sidebar.classList.add('translate-x-full');
            setTimeout(() => {
                overlay.classList.add('hidden');
            }, 500);
            document.body.style.overflow = '';
        }
    }

    // Scroll effect for header
    window.addEventListener('scroll', () => {
        const header = document.querySelector('header');
        if (window.scrollY > 50) {
            header.classList.add('h-16', 'shadow-xl');
            header.classList.remove('h-20');
        } else {
            header.classList.add('h-20');
            header.classList.remove('h-16', 'shadow-xl');
        }
    });
</script>