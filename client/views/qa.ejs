<!DOCTYPE html>
<html class="light" lang="bn">

<head>
    <title>Q&A ফোরাম | ODDHAY</title>
    <%- include('partials/head') %>
</head>

<body class="bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 min-h-screen">
    <%- include('partials/nav') %>

        <main class="pt-32 pb-20 px-6 max-w-4xl mx-auto">
            <div class="mb-16 text-center reveal">
                <h1 class="text-4xl lg:text-5xl font-black mb-4 tracking-tight">Q&A <span
                        class="text-primary">ফোরাম</span></h1>
                <p class="text-slate-500">আপনার যেকোনো একাডেমিক সমস্যা এখানে লিখুন, আমাদের মেন্টররা দ্রুত সমাধান দিবেন।
                </p>
            </div>

            <!-- Question Form -->
            <div class="glass-nav p-8 rounded-[3rem] mb-16 shadow-2xl reveal delay-200">
                <form action="/qa-ask" method="POST" class="space-y-6">
                    <textarea name="question" rows="4" placeholder="আপনার প্রশ্নটি বিস্তারিত এখানে লিখুন..."
                        class="w-full p-8 rounded-[2rem] bg-slate-50 dark:bg-slate-800/50 border-none focus:ring-2 focus:ring-primary transition-all resize-none font-bold placeholder:opacity-50"></textarea>
                    <div class="flex justify-end">
                        <button type="submit"
                            class="px-10 py-4 bg-primary text-white rounded-2xl font-black flex items-center gap-3 hover:scale-105 active:scale-95 transition-all shadow-xl shadow-primary/30">
                            প্রশ্ন পাঠান <span class="material-symbols-outlined text-lg">send</span>
                        </button>
                    </div>
                </form>
            </div>

            <!-- List -->
            <div class="space-y-8">
                <% qas.forEach(item=> { %>
                    <div
                        class="glass-nav p-10 rounded-[3rem] border border-transparent hover:border-primary/20 transition-all duration-500 reveal">
                        <div class="flex items-center gap-4 mb-8">
                            <div
                                class="size-12 rounded-2xl bg-primary/10 flex items-center justify-center font-black text-primary text-xl">
                                <%= item.askedBy ? item.askedBy.name[0] : 'U' %>
                            </div>
                            <div>
                                <p class="font-black text-sm">
                                    <%= item.askedBy ? item.askedBy.name : 'Unknown Student' %>
                                </p>
                                <p class="text-[10px] font-bold text-slate-400 uppercase tracking-widest">
                                    <%= item.createdAt.toLocaleDateString() %>
                                </p>
                            </div>
                            <% if(item.status==='resolved' ) { %>
                                <span
                                    class="ml-auto bg-green-500/10 text-green-500 text-[10px] font-black px-4 py-1.5 rounded-full uppercase tracking-widest flex items-center gap-2">
                                    <span class="material-symbols-outlined text-xs">verified</span> সমাধানকৃত
                                </span>
                                <% } else { %>
                                    <span
                                        class="ml-auto bg-amber-500/10 text-amber-500 text-[10px] font-black px-4 py-1.5 rounded-full uppercase tracking-widest">অপেক্ষমান</span>
                                    <% } %>
                        </div>
                        <h3 class="text-2xl font-black mb-6 leading-tight">"<%= item.question %>"</h3>
                        <% if(item.answer) { %>
                            <div
                                class="p-8 bg-primary/5 rounded-[2rem] border-l-8 border-primary relative overflow-hidden">
                                <div class="absolute top-0 right-0 p-12 bg-primary/5 rounded-full blur-2xl"></div>
                                <div class="flex items-center gap-3 mb-4 text-primary">
                                    <span class="material-symbols-outlined font-black">verified_user</span>
                                    <span class="text-sm font-black uppercase tracking-widest">মেন্টর উত্তর
                                        দিয়েছেন</span>
                                </div>
                                <p class="text-slate-600 dark:text-slate-300 leading-relaxed font-bold">
                                    <%= item.answer %>
                                </p>
                            </div>
                            <% } %>
                    </div>
                    <% }) %>
                        <% if(qas.length===0) { %>
                            <div class="py-32 text-center glass-nav rounded-[3rem]">
                                <span class="material-symbols-outlined text-8xl text-slate-200 mb-6">chat</span>
                                <h2 class="text-3xl font-black mb-2 tracking-tight">কোনো প্রশ্ন পাওয়া যায়নি</h2>
                                <p class="text-slate-500">আপনার প্রথম প্রশ্নটি করে আমাদের যাত্রা শুরু করুন!</p>
                            </div>
                            <% } %>
            </div>
        </main>

        <%- include('partials/footer') %>
</body>

</html>