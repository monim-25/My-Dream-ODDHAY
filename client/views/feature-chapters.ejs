<!DOCTYPE html>
<html class="light" lang="bn">

<head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <title>
        <%= subject %> - চ্যাপ্টারসমূহ | ODDHAY
    </title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Lexend:wght@300..900&family=Noto+Sans+Bengali:wght@300..900&display=swap"
        rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap"
        rel="stylesheet" />
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: { "primary": "#137fec", "background-light": "#f6f7f8", "background-dark": "#101922" },
                    fontFamily: { "display": ["Lexend", "Noto Sans Bengali", "sans-serif"] },
                },
            },
        }
    </script>
</head>

<body class="bg-background-light dark:bg-background-dark text-[#0d141b] dark:text-slate-100 min-h-screen">
    <header
        class="border-b border-slate-200 dark:border-slate-800 bg-white/80 dark:bg-background-dark/80 backdrop-blur-md px-6 py-4 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto flex items-center justify-between">
            <h1 class="text-xl font-bold flex items-center gap-2">
                <a href="/feature/<%= type %>" class="p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-full">
                    <span class="material-symbols-outlined">arrow_back</span>
                </a>
                <%= subject %> - চ্যাপ্টারসমূহ
            </h1>
        </div>
    </header>

    <main class="max-w-4xl mx-auto px-6 py-12">
        <div class="space-y-6">
            <% courses.forEach(course=> { %>
                <% (course.chapters || []).forEach(chapter=> { %>
                    <div
                        class="bg-white dark:bg-slate-900 rounded-3xl border border-slate-200 dark:border-slate-800 overflow-hidden shadow-sm">
                        <div class="p-6 bg-slate-50 dark:bg-slate-800/50 flex justify-between items-center">
                            <h3 class="text-lg font-black">
                                <%= chapter.title %>
                            </h3>
                            <span class="text-xs font-bold text-primary uppercase">
                                <%= course.title %>
                            </span>
                        </div>

                        <div class="p-6 space-y-3">
                            <% if (type==='recorded' ) { %>
                                <% (chapter.recordedClasses || []).forEach(v=> { %>
                                    <div
                                        class="flex items-center justify-between p-4 bg-slate-50 dark:bg-slate-800/30 rounded-2xl">
                                        <div class="flex items-center gap-4">
                                            <span class="material-symbols-outlined text-primary">play_circle</span>
                                            <div>
                                                <p class="font-bold text-sm">
                                                    <%= v.title %>
                                                </p>
                                                <p class="text-[10px] text-slate-500">
                                                    <%= v.duration %>
                                                </p>
                                            </div>
                                        </div>
                                        <a href="/course-details/<%= course._id %>"
                                            class="px-4 py-2 bg-primary text-white text-xs font-bold rounded-xl shadow-md">দেখুন</a>
                                    </div>
                                    <% }) %>
                                        <% if (chapter.recordedClasses.length===0) { %>
                                            <p class="text-slate-400 text-xs italic p-4">কোনো রেকর্ড ক্লাস পাওয়া যায়নি।
                                            </p>
                                            <% } %>
                                                <% } else if (type==='live' ) { %>
                                                    <% (chapter.liveClasses || []).forEach(l=> { %>
                                                        <div
                                                            class="flex items-center justify-between p-4 bg-rose-50 dark:bg-rose-900/10 rounded-2xl border border-rose-100 dark:border-rose-900/30">
                                                            <div class="flex items-center gap-4">
                                                                <span
                                                                    class="material-symbols-outlined text-rose-500">live_tv</span>
                                                                <div>
                                                                    <p
                                                                        class="font-bold text-sm text-rose-900 dark:text-rose-200">
                                                                        <%= l.title %>
                                                                    </p>
                                                                    <p class="text-[10px] text-rose-500">
                                                                        <%= l.date %>
                                                                    </p>
                                                                </div>
                                                            </div>
                                                            <a href="<%= l.meetingUrl %>" target="_blank"
                                                                class="px-4 py-2 bg-rose-500 text-white text-xs font-bold rounded-xl shadow-md">জয়েন
                                                                করুন</a>
                                                        </div>
                                                        <% }) %>
                                                            <% if (chapter.liveClasses.length===0) { %>
                                                                <p class="text-slate-400 text-xs italic p-4">বর্তমানে
                                                                    কোনো লাইভ ক্লাস শিডিউল নেই।</p>
                                                                <% } %>
                                                                    <% } else if (type==='notes' ) { %>
                                                                        <% (chapter.notes || []).forEach(n=> { %>
                                                                            <div
                                                                                class="flex items-center justify-between p-4 bg-amber-50 dark:bg-amber-900/10 rounded-2xl border border-amber-100 dark:border-amber-900/30">
                                                                                <div class="flex items-center gap-4">
                                                                                    <span
                                                                                        class="material-symbols-outlined text-amber-500">picture_as_pdf</span>
                                                                                    <p
                                                                                        class="font-bold text-sm text-amber-900 dark:text-amber-200">
                                                                                        <%= n.title %>
                                                                                    </p>
                                                                                </div>
                                                                                <a href="<%= n.filePath %>"
                                                                                    target="_blank"
                                                                                    class="px-4 py-2 bg-amber-500 text-white text-xs font-bold rounded-xl shadow-md">ডাউনলোড</a>
                                                                            </div>
                                                                            <% }) %>
                                                                                <% if (chapter.notes.length===0) { %>
                                                                                    <p
                                                                                        class="text-slate-400 text-xs italic p-4">
                                                                                        কোনো লেকচার নোটস পাওয়া যায়নি।
                                                                                    </p>
                                                                                    <% } %>
                                                                                        <% } %>
                        </div>
                    </div>
                    <% }) %>
                        <% }) %>

                            <% if (courses.length===0) { %>
                                <div class="py-20 text-center">
                                    <p class="text-slate-500">এই বিষয়ের কোনো কন্টেন্ট পাওয়া যায়নি।</p>
                                </div>
                                <% } %>
        </div>
    </main>
</body>

</html>